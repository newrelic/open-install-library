---
- debug:
    msg: Install Node.js, Create Dockerfile, and setup Node.js application
# import the nodeJs sample application tasks
- import_tasks: ../../../../nodejs/redhat/roles/configure/tasks/main.yml

# create a sample Dockerfile
- name: Create a sample Dockerfile
  copy:
    content: |
      FROM node:18
      WORKDIR /app
      COPY . /app
      RUN npm install
      EXPOSE 3000
      CMD ["node", "app.js"]
    dest: "/home/{{ ansible_user }}/myNodeApp/Dockerfile"
    mode: "0644"