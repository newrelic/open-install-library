---
- debug:
    msg: Install go

- name: install go
  shell: sudo yum install go -y
  become: true

- name: Create templates directory
  file:
    path: ~/templates
    state: directory

- name: Copy files to templates directory
  synchronize:
      src: "{{ item }}"
      dest: ~/templates/
      mode: push
  with_fileglob:
    - "../../../../templates/*"
  become: true

# Use the below command to run it locally
# - name: Run sample go application
#   ansible.builtin.shell: cd ~/templates && go build . && nohup ./gosampleapp &
  


