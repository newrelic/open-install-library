{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "http://example.com/example.json",
    "type": "object",
    "title": "The root schema",
    "description": "The root schema comprises the entire JSON document.",
    "default": {},
    "examples": [
        {
            "name": "Infrastructure Agent Linux Installer",
            "description": "New Relic install recipe for the Infrastructure agent",
            "repository": "https://github.com/newrelic/infrastructure-agent",
            "installTargets": [
                {
                    "type": "host",
                    "os": "linux",
                    "platform": "ubuntu",
                    "platformFamily": "debian",
                    "platformVersion": "17.10",
                    "kernelVersion": "1.0.0",
                    "kernelArch": "x86_64"
                }
            ],
            "keywords": [
                "Node",
                "Node.js",
                "Microsoft Azure Web Apps"
            ],
            "processMatch": [
                "/infra"
            ],
            "meltMatch": {
                "events": {
                    "pattern": [
                        "/SystemSample/"
                    ]
                },
                "metrics": {
                    "pattern": [
                        "/system.cpu.usage/"
                    ]
                },
                "logging": {
                    "pattern": [
                        "/http/"
                    ],
                    "files": [
                        "/var/log/system.log"
                    ]
                }
            },
            "inputVars": [
                {
                    "name": "LOG_FILES",
                    "prompt": "Which log files would you like to tail?",
                    "default": "/var/log/messages,/var/log/cloud-init.log,/var/log/secure"
                }
            ],
            "install": {
                "version": "3",
                "tasks": {}
            }
        }
    ],
    "required": [
        "name",
        "description",
        "repository",
        "installTargets",
        "keywords",
        "processMatch",
        "meltMatch",
        "install"
    ],
    "properties": {
        "name": {
            "$id": "#/properties/name",
            "type": "string",
            "title": "The name schema",
            "description": "An explanation about the purpose of this instance.",
            "default": "",
            "examples": [
                "Infrastructure Agent Linux Installer"
            ]
        },
        "description": {
            "$id": "#/properties/description",
            "type": "string",
            "title": "The description schema",
            "description": "An explanation about the purpose of this instance.",
            "default": "",
            "examples": [
                "New Relic install recipe for the Infrastructure agent"
            ]
        },
        "repository": {
            "$id": "#/properties/repository",
            "type": "string",
            "title": "The repository schema",
            "description": "An explanation about the purpose of this instance.",
            "default": "",
            "examples": [
                "https://github.com/newrelic/infrastructure-agent"
            ]
        },
        "installTargets": {
            "$id": "#/properties/installTargets",
            "type": "array",
            "title": "The installTargets schema",
            "description": "An explanation about the purpose of this instance.",
            "default": [],
            "examples": [
                [
                    {
                        "type": "host",
                        "os": "linux",
                        "platform": "ubuntu",
                        "platformFamily": "debian",
                        "platformVersion": "17.10",
                        "kernelVersion": "1.0.0",
                        "kernelArch": "x86_64"
                    }
                ]
            ],
            "additionalItems": true,
            "items": {
                "$id": "#/properties/installTargets/items",
                "anyOf": [
                    {
                        "$id": "#/properties/installTargets/items/anyOf/0",
                        "type": "object",
                        "title": "The first anyOf schema",
                        "description": "An explanation about the purpose of this instance.",
                        "default": {},
                        "examples": [
                            {
                                "type": "host",
                                "os": "linux",
                                "platform": "ubuntu",
                                "platformFamily": "debian",
                                "platformVersion": "17.10",
                                "kernelVersion": "1.0.0",
                                "kernelArch": "x86_64"
                            }
                        ],
                        "properties": {
                            "type": {
                                "$id": "#/properties/installTargets/items/anyOf/0/properties/type",
                                "type": "string",
                                "title": "The type schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "host"
                                ]
                            },
                            "os": {
                                "$id": "#/properties/installTargets/items/anyOf/0/properties/os",
                                "type": "string",
                                "title": "The os schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "linux"
                                ]
                            },
                            "platform": {
                                "$id": "#/properties/installTargets/items/anyOf/0/properties/platform",
                                "type": "string",
                                "title": "The platform schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "ubuntu"
                                ]
                            },
                            "platformFamily": {
                                "$id": "#/properties/installTargets/items/anyOf/0/properties/platformFamily",
                                "type": "string",
                                "title": "The platformFamily schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "debian"
                                ]
                            },
                            "platformVersion": {
                                "$id": "#/properties/installTargets/items/anyOf/0/properties/platformVersion",
                                "type": "string",
                                "title": "The platformVersion schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "17.10"
                                ]
                            },
                            "kernelVersion": {
                                "$id": "#/properties/installTargets/items/anyOf/0/properties/kernelVersion",
                                "type": "string",
                                "title": "The kernelVersion schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "1.0.0"
                                ]
                            },
                            "kernelArch": {
                                "$id": "#/properties/installTargets/items/anyOf/0/properties/kernelArch",
                                "type": "string",
                                "title": "The kernelArch schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "x86_64"
                                ]
                            }
                        },
                        "additionalProperties": true
                    }
                ]
            }
        },
        "keywords": {
            "$id": "#/properties/keywords",
            "type": "array",
            "title": "The keywords schema",
            "description": "An explanation about the purpose of this instance.",
            "default": [],
            "examples": [
                [
                    "Node",
                    "Node.js"
                ]
            ],
            "additionalItems": true,
            "items": {
                "$id": "#/properties/keywords/items",
                "anyOf": [
                    {
                        "$id": "#/properties/keywords/items/anyOf/0",
                        "type": "string",
                        "title": "The first anyOf schema",
                        "description": "An explanation about the purpose of this instance.",
                        "default": "",
                        "examples": [
                            "Node",
                            "Node.js"
                        ]
                    }
                ]
            }
        },
        "processMatch": {
            "$id": "#/properties/processMatch",
            "type": "array",
            "title": "The processMatch schema",
            "description": "An explanation about the purpose of this instance.",
            "default": [],
            "examples": [
                [
                    "/infra"
                ]
            ],
            "additionalItems": true,
            "items": {
                "$id": "#/properties/processMatch/items",
                "anyOf": [
                    {
                        "$id": "#/properties/processMatch/items/anyOf/0",
                        "type": "string",
                        "title": "The first anyOf schema",
                        "description": "An explanation about the purpose of this instance.",
                        "default": "",
                        "examples": [
                            "/infra"
                        ]
                    }
                ]
            }
        },
        "meltMatch": {
            "$id": "#/properties/meltMatch",
            "type": "object",
            "title": "The meltMatch schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
                {
                    "events": {
                        "pattern": [
                            "/SystemSample/"
                        ]
                    },
                    "metrics": {
                        "pattern": [
                            "/system.cpu.usage/"
                        ]
                    },
                    "logging": {
                        "pattern": [
                            "/http/"
                        ],
                        "files": [
                            "/var/log/system.log"
                        ]
                    }
                }
            ],
            "properties": {
                "events": {
                    "$id": "#/properties/meltMatch/properties/events",
                    "type": "object",
                    "title": "The events schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": {},
                    "examples": [
                        {
                            "pattern": [
                                "/SystemSample/"
                            ]
                        }
                    ],
                    "required": [
                        "pattern"
                    ],
                    "properties": {
                        "pattern": {
                            "$id": "#/properties/meltMatch/properties/events/properties/pattern",
                            "type": "array",
                            "title": "The pattern schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": [],
                            "examples": [
                                [
                                    "/SystemSample/"
                                ]
                            ],
                            "additionalItems": true,
                            "items": {
                                "$id": "#/properties/meltMatch/properties/events/properties/pattern/items",
                                "anyOf": [
                                    {
                                        "$id": "#/properties/meltMatch/properties/events/properties/pattern/items/anyOf/0",
                                        "type": "string",
                                        "title": "The first anyOf schema",
                                        "description": "An explanation about the purpose of this instance.",
                                        "default": "",
                                        "examples": [
                                            "/SystemSample/"
                                        ]
                                    }
                                ]
                            }
                        }
                    },
                    "additionalProperties": true
                },
                "metrics": {
                    "$id": "#/properties/meltMatch/properties/metrics",
                    "type": "object",
                    "title": "The metrics schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": {},
                    "examples": [
                        {
                            "pattern": [
                                "/system.cpu.usage/"
                            ]
                        }
                    ],
                    "required": [
                        "pattern"
                    ],
                    "properties": {
                        "pattern": {
                            "$id": "#/properties/meltMatch/properties/metrics/properties/pattern",
                            "type": "array",
                            "title": "The pattern schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": [],
                            "examples": [
                                [
                                    "/system.cpu.usage/"
                                ]
                            ],
                            "additionalItems": true,
                            "items": {
                                "$id": "#/properties/meltMatch/properties/metrics/properties/pattern/items",
                                "anyOf": [
                                    {
                                        "$id": "#/properties/meltMatch/properties/metrics/properties/pattern/items/anyOf/0",
                                        "type": "string",
                                        "title": "The first anyOf schema",
                                        "description": "An explanation about the purpose of this instance.",
                                        "default": "",
                                        "examples": [
                                            "/system.cpu.usage/"
                                        ]
                                    }
                                ]
                            }
                        }
                    },
                    "additionalProperties": true
                },
                "logging": {
                    "$id": "#/properties/meltMatch/properties/logging",
                    "type": "object",
                    "title": "The logging schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": {},
                    "examples": [
                        {
                            "pattern": [
                                "/http/"
                            ],
                            "files": [
                                "/var/log/system.log"
                            ]
                        }
                    ],
                    "required": [
                        "pattern",
                        "files"
                    ],
                    "properties": {
                        "pattern": {
                            "$id": "#/properties/meltMatch/properties/logging/properties/pattern",
                            "type": "array",
                            "title": "The pattern schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": [],
                            "examples": [
                                [
                                    "/http/"
                                ]
                            ],
                            "additionalItems": true,
                            "items": {
                                "$id": "#/properties/meltMatch/properties/logging/properties/pattern/items",
                                "anyOf": [
                                    {
                                        "$id": "#/properties/meltMatch/properties/logging/properties/pattern/items/anyOf/0",
                                        "type": "string",
                                        "title": "The first anyOf schema",
                                        "description": "An explanation about the purpose of this instance.",
                                        "default": "",
                                        "examples": [
                                            "/http/"
                                        ]
                                    }
                                ]
                            }
                        },
                        "files": {
                            "$id": "#/properties/meltMatch/properties/logging/properties/files",
                            "type": "array",
                            "title": "The files schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": [],
                            "examples": [
                                [
                                    "/var/log/system.log"
                                ]
                            ],
                            "additionalItems": true,
                            "items": {
                                "$id": "#/properties/meltMatch/properties/logging/properties/files/items",
                                "anyOf": [
                                    {
                                        "$id": "#/properties/meltMatch/properties/logging/properties/files/items/anyOf/0",
                                        "type": "string",
                                        "title": "The first anyOf schema",
                                        "description": "An explanation about the purpose of this instance.",
                                        "default": "",
                                        "examples": [
                                            "/var/log/system.log"
                                        ]
                                    }
                                ]
                            }
                        }
                    },
                    "additionalProperties": true
                }
            },
            "additionalProperties": true
        },
        "inputVars": {
            "$id": "#/properties/inputVars",
            "type": "array",
            "title": "The inputVars schema",
            "description": "An explanation about the purpose of this instance.",
            "default": [],
            "examples": [
                [
                    {
                        "name": "LOG_FILES",
                        "prompt": "Which log files would you like to tail?",
                        "default": "/var/log/messages,/var/log/cloud-init.log,/var/log/secure"
                    }
                ]
            ],
            "additionalItems": true,
            "items": {
                "$id": "#/properties/inputVars/items",
                "anyOf": [
                    {
                        "$id": "#/properties/inputVars/items/anyOf/0",
                        "type": "object",
                        "title": "The first anyOf schema",
                        "description": "An explanation about the purpose of this instance.",
                        "default": {},
                        "examples": [
                            {
                                "name": "LOG_FILES",
                                "prompt": "Which log files would you like to tail?",
                                "default": "/var/log/messages,/var/log/cloud-init.log,/var/log/secure"
                            }
                        ],
                        "required": [
                            "name"
                        ],
                        "properties": {
                            "name": {
                                "$id": "#/properties/inputVars/items/anyOf/0/properties/name",
                                "type": "string",
                                "title": "The name schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "LOG_FILES"
                                ]
                            },
                            "prompt": {
                                "$id": "#/properties/inputVars/items/anyOf/0/properties/prompt",
                                "type": "string",
                                "title": "The prompt schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "Which log files would you like to tail?"
                                ]
                            },
                            "default": {
                                "$id": "#/properties/inputVars/items/anyOf/0/properties/default",
                                "type": "string",
                                "title": "The default schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "/var/log/messages,/var/log/cloud-init.log,/var/log/secure"
                                ]
                            }
                        },
                        "additionalProperties": true
                    }
                ]
            }
        },
        "install": {
            "$id": "#/properties/install",
            "type": "object",
            "title": "The install schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
                {
                    "version": "3",
                    "tasks": {}
                }
            ],
            "required": [
                "version",
                "tasks"
            ],
            "properties": {
                "version": {
                    "$id": "#/properties/install/properties/version",
                    "type": "string",
                    "title": "The version schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": "",
                    "examples": [
                        "3"
                    ]
                },
                "tasks": {
                    "$id": "#/properties/install/properties/tasks",
                    "type": "object",
                    "title": "The tasks schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": {},
                    "examples": [
                        {}
                    ],
                    "required": [],
                    "additionalProperties": true
                }
            },
            "additionalProperties": true
        }
    },
    "additionalProperties": true
}
